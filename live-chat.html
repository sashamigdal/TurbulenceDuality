document.getElementById('qa-form').addEventListener('submit', async (event) => {
    event.preventDefault();
    const question = document.getElementById('question').value;
    const responseElement = document.createElement('div');
    responseElement.classList.add('qa-item');
    responseElement.innerHTML = `<p><strong>Q:</strong> ${question}</p><p><strong>A:</strong> Generating answer...</p>`;
    document.getElementById('qa-list').prepend(responseElement);

    try {
        const response = await fetch("https://turbulenceduality.onrender.com/question", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ question })
        });

        const data = await response.json();
        responseElement.innerHTML = `<p><strong>Q:</strong> ${question}</p><p><strong>A:</strong> ${data.answer}</p>`;
    } catch (error) {
        responseElement.innerHTML = `<p><strong>Q:</strong> ${question}</p><p><strong>A:</strong> Sorry, an error occurred while generating the answer.</p>`;
    }

    document.getElementById('question').value = '';
});
